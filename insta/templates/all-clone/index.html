{%extends 'all-clone/base.html'%}

{% block content %}
{{block.super}}


    <div class=>
        <div class="container-fluid">
          <div class="px-lg-5 super">
            <!-- display default password and username -->
            <div class="row division">
                {% for image in images %}
                <!-- Gallery Photo item start -->
                <div class=" col-lg-12 col-md-6 mb-4">
                  {% comment %} <a href="/image/{{image.id}}"> {% endcomment %}
                  <div class="bg-white rounded shadow-sm"><img src="{{ image.image.url }}" alt=""
                      class="img-fluid card-img-top">
                    <div class="p-4">
                      <h5 class="headings text-center"> {{ image.image_name }}</h5>
                      <div class="d-flex justify-content-between">
                        <div>
                          <div class="text-muted">
                            <span class="text-white text-capitalize">{{ image.image_caption }}</span>
                          </div>
                        </div>
                        <div>
                          <small class="text-muted">
                            <span class="badge rounded-pill bg-dark text-white text-capitalize">{{ image.image_date|date }}</span>
                          </small>

                        <div>
                          <form action = "{% url 'like-image' %}"   method='POST'>
                            {% csrf_token %}
                            <input type="hidden" name="image_id" value="{{image.id}}">
                            {%if user not in image.liked.all %}
                            <button class="btn btn-success" type="submit">like</button>
                           
                            {% else %}
                            <button class="btn btn-danger" type="submit">unlike</button>
                            {% endif %}
                          </form>
                      <strong>{{image.liked.all.count}}Like(s)</strong>
                   


                      </div>
                    </div>
                    </div>
                </div>
               </div>
               
               {% endfor%}
              
            </div>
            </div>
        </div>
    </div>


{% endblock %}


